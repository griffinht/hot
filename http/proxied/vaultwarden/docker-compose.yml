networks:
    internal:
        driver: bridge
        internal: true
volumes:
    vaultwarden:
        external: true
services:
    # https://github.com/dani-garcia/vaultwarden/
    # https://hub.docker.com/r/vaultwarden/server/tags
    vaultwarden:
        image: vaultwarden/server:alpine@sha256:2c56fa96c27fb541f0318d8d3253c3acf5a418792d21994718fc72da6382570a
        restart: unless-stopped
        volumes:
            - vaultwarden:/data
        networks:
            - internal
        environment:
            WEBSOCKET_ENABLED: true
            DOMAIN: https://cold.griffinht.com/bitwarden/
            # needed for TOTP
            TZ: America/New_York
            # no internet so this will fail anyway
            DISABLE_ICON_DOWNLOAD: true
