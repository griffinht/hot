networks:
  internal:
    driver: bridge
    internal: true
volumes:
  public:
    driver: local
    driver_opts:
      type: nfs
      o: nfsvers=4,addr=192.168.0.6,rw
      device: ":/public"
services:
  samba:
    image: dperson/samba
    restart: unless-stopped
    ports:
      - 139:139
      - 445:445
    volumes:
      - public:/public
    command: -s "public;/public;yes;no"
    environment:
      USERID: 0
      GROUPID: 0
  filebrowser:
    build: filebrowser
    restart: unless-stopped
    networks:
      - internal
    volumes:
      - public:/public
  gossa:
    image: pldubouilh/gossa
    restart: unless-stopped
    networks:
      - internal
    volumes:
      - public:/shared
    environment:
      PREFIX: "/gossa/"
